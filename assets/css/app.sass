/*!
 / Adsisto
 / Copyright (c) 2019 Andrew Ying
 /
 / This program is free software: you can redistribute it and/or modify it under
 / the terms of version 3 of the GNU General Public License as published by the
 / Free Software Foundation. In addition, this program is also subject to certain
 / additional terms available at <SUPPLEMENT.md>.
 /
 / This program is distributed in the hope that it will be useful, but WITHOUT ANY
 / WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 / A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
 /
 / You should have received a copy of the GNU General Public License along with
 / this program.  If not, see <https://www.gnu.org/licenses/>.
 /

@import "~tailwindcss/base"
@import "./fonts"
@import "./variables"

html
    @apply text-primary-800 font-sans

    font-size: theme("baseFontSize")

body
    @apply bg-white

a
    @apply text-primary-600

    &:hover
        @apply underline

        color: darken($primary, 15%)

input:not([type="submit"]),
textarea
    @apply bg-white block border border-gray-400 border-solid px-3 py-1 rounded text-primary-800 w-4/5

    background-clip: padding-box

@import "~tailwindcss/components"

.btn
    @apply align-middle border border-solid border-transparent inline-block leading-snug px-3 py-2 rounded select-none text-center
    @apply no-underline #{!important}

    transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out

    &-primary
        @apply bg-primary-700 border-primary-800 text-gray-100

        &:hover
            @apply bg-primary-800 text-gray-100

    &-outline
        background-color: theme("colors.gray.100")
        border-color: adjust-color($primary, $saturation: -50%, $lightness: 30%)
        color: adjust-color($primary, $saturation: -40%, $lightness: 10%)

        &:hover
            background-color: mix(darken($light-gray, 1%), $primary, 95%)

label
    @apply mr-2

.text
    /* stylelint-disable-next-line rule-empty-line-before */
    &-warning
        @apply text-yellow-800

    &-danger
        @apply text-red-800

    &-description
        color: adjust-color($primary, $lightness: 25%, $saturation: -70%)
        font-size: .9rem

.input-group
    @apply flex

    span
        @apply bg-white border border-r-0 border-solid border-gray-400 bg-white p-2 pl-3 pr-1 rounded-l text-center text-primary-800

        background-clip: padding-box
        white-space: nowrap

        svg
            @apply h-full

    input
        @apply border-l-0 mb-0 p-2 pl-1 pr-3 rounded-l-none rounded-r

.alert
    @apply border border-solid border-transparent mt-4 mb-6 px-3 py-2 rounded text-sm

    &-warning
        @apply bg-orange-100 border-orange-300 text-yellow-800

    &-danger
        @apply bg-red-200 border-red-300 text-red-800

@import "~tailwindcss/utilities"
@import "~react-table/react-table"

.help
    @apply block

    color: adjust-color($primary, $saturation: -50%, $lightness: 35%)
    font-size: 90%

    &:hover
        color: adjust-color($primary, $saturation: -50%, $lightness: 20%)
        text-decoration: underline

.container
    @apply flex min-h-full max-w-full

.header
    @apply border border-solid flex items-center px-4 w-full

    border-color: adjust-color($primary, $lightness: 60%, $saturation: -50%)
    height: 100px
    z-index: 999

    &-logo
        max-width: 200px

.sidebar
    @apply flex flex-col flex-shrink justify-between px-4

    border-right: 1px solid adjust-color($primary, $lightness: 60%, $saturation: -50%)
    height: calc(100vh - 100px)
    z-index: 100

    &-menu
        @apply my-2 p-0 select-none

        max-width: 250px
        width: 20vw

        li
            @apply px-2 py-1

    a
        @apply text-primary-800

        &:hover
            @apply no-underline text-primary-900

.content
    @apply bg-gray-100 flex-grow py-2 pl-8 pr-4 z-50

    height: calc(100vh - 100px)

.horizontal-form
    max-width: 1000px

    .form-row
        @apply flex justify-between mb-2

    input:not([type="submit"]),
    textarea
        max-width: 80%

.login
    /* stylelint-disable-next-line rule-empty-line-before */
    &-container
        @apply bg-white border border-solid my-4 px-5 py-2 rounded-lg

        border-color: adjust-color($primary, $lightness: 50%, $saturation: -50%)
        box-shadow: 0 0 .5rem adjust-color($primary, $lightness: 50%, $saturation: -50%)
        max-width: 90vw
        width: 500px

    &-logo
        max-width: 200px
        padding-bottom: 10px
        width: 50vw

@keyframes blink
    45%
        color: transparent
    55%
        color: transparent

.console
    @apply bg-gray-900

    max-height: calc(100vh - 100px - 5rem)
    object-fit: contain
    position: relative
    width: 100%
    z-index: 100

    &__container
        max-width: 1024px
        position: relative
        width: 100%

    &__overlay
        box-sizing: border-box
        color: $light-gray
        left: 0
        padding: .5rem 1rem
        position: absolute
        text-align: center
        top: 0
        width: 100%
        z-index: 101

    &__loading
        animation: 1750ms blink infinite
        font-size: .75rem
        padding: 0 .1rem

        &:nth-child(1)
            animation-delay: 0ms

        &:nth-child(2)
            animation-delay: 500ms

        &:nth-child(3)
            animation-delay: 1s

.images
    @apply flex-grow w-full

    background-color: mix($light-gray, $primary, 98%)
    border: 2px dashed mix($light-gray, $primary, 70%)
    max-width: 750px

    &__list
        background-color: mix($light-gray, $primary, 98%)
        border-color: mix($light-gray, $primary, 20%)

    &__item
        /* stylelint-disable-next-line rule-empty-line-before */
        &:hover
            background-color: mix(darken($light-gray, 3%), $primary, 92.5%)

        &[data-selected="1"]
            background-color: mix(darken($light-gray, 2%), $primary, 92.5%)
            border: 2px solid mix($light-gray, $primary, 25%)

    &__drop_container
        @apply flex flex-col items-start

        flex-grow: 5

    &__drop
        @apply font-bold p-4 select-none text-center

        height: calc(100% - 4px)
        margin: 2px

    &__active
        background-color: mix(darken($light-gray, 2%), $primary, 92.5%)
        border-color: mix(darken($light-gray, 10%), $primary, 70%)
